{
  "test_run_summary": {
    "timestamp": "2025-07-06T20:13:00.507292",
    "total_tests": 2,
    "passed_tests": 2,
    "failed_tests": 0,
    "critical_failures": 0,
    "total_execution_time": 44.36894750595093,
    "overall_success": true
  },
  "test_results": [
    {
      "name": "Conversation Persistence",
      "file": "conversation_persistence_test_final.py",
      "description": "Verifies conversation history survives server restarts",
      "critical": true,
      "success": true,
      "execution_time": 11.90929627418518,
      "stdout": "\ud83c\udfaf Starting Conversation Persistence Test\n============================================================\n\ud83d\udccb Phase 1: Establishing baseline...\n   \ud83d\udcca Baseline: 0 messages in database\n\ud83d\udcdd Phase 2: Sending test message...\n   \u274c Error sending message: Message: unknown error: net::ERR_CONNECTION_REFUSED\n  (Session info: chrome=131.0.6778.108)\nStacktrace:\n#0 0x55cd97de31fa <unknown>\n#1 0x55cd978f3810 <unknown>\n#2 0x55cd978eba24 <unknown>\n#3 0x55cd978dbdb9 <unknown>\n#4 0x55cd978ddac4 <unknown>\n#5 0x55cd978dc06d <unknown>\n#6 0x55cd978db8cf <unknown>\n#7 0x55cd978db7c2 <unknown>\n#8 0x55cd978d97e6 <unknown>\n#9 0x55cd978d9e5a <unknown>\n#10 0x55cd978f6139 <unknown>\n#11 0x55cd97985c55 <unknown>\n#12 0x55cd97966582 <unknown>\n#13 0x55cd97985007 <unknown>\n#14 0x55cd97966323 <unknown>\n#15 0x55cd97934de0 <unknown>\n#16 0x55cd97935dbe <unknown>\n#17 0x55cd97daf12b <unknown>\n#18 0x55cd97db30c7 <unknown>\n#19 0x55cd97d9c6cc <unknown>\n#20 0x55cd97db3c47 <unknown>\n#21 0x55cd97d8167f <unknown>\n#22 0x55cd97dd2288 <unknown>\n#23 0x55cd97dd2450 <unknown>\n#24 0x55cd97de2076 <unknown>\n#25 0x7fceca89af08 start_thread\n#26 0x7fceca9230ac __clone3\n\n\ud83d\udcbe Phase 3: Verifying message persistence...\n   \ud83d\udcca Attempt 1: 0 messages in database\n   \u23f3 Waiting 5 more seconds for database update...\n   \ud83d\udcca Attempt 2: 0 messages in database\n   \u23f3 Waiting 5 more seconds for database update...\n   \ud83d\udcca Attempt 3: 0 messages in database\n   \ud83d\udd0d DEBUG ERROR: unable to open database file\n\u274c TEST FAILED: Message count did not increase: 0 \u2192 0\n\n================================================================================\n\ud83c\udfaf FINAL TEST RESULTS\n================================================================================\n\u274c CONVERSATION PERSISTENCE TEST FAILED\n\ud83d\udd0d Error: Message count did not increase: 0 \u2192 0\n\ud83d\udcca Diagnostic Data:\n   database_exists: False\n   message_count: 0\n   server_responsive: True\n   error_message: Message count did not increase: 0 \u2192 0\n================================================================================\n\ud83d\udcc1 Results saved to: test_results/conversation_persistence_final_results.json\n",
      "stderr": "",
      "return_code": 0,
      "timestamp": "2025-07-06T20:13:12.416672"
    },
    {
      "name": "Rolling Backup System",
      "file": "rolling_backup_test_deterministic.py",
      "description": "Validates son/father/grandfather backup protection",
      "critical": true,
      "success": true,
      "execution_time": 32.459349632263184,
      "stdout": "\ud83c\udfaf Starting Rolling Backup System Test\n============================================================\n\ud83d\udcca Phase 1: Establishing baseline...\n   \ud83d\udcca Baseline: {'timestamp': '2025-07-06T20:13:12.651477', 'source_databases': {'ai_keychain': {'exists': False}, 'discussion': {'exists': False}, 'app_prod': {'exists': False}, 'app_dev': {'exists': False}}, 'backup_structure': {'daily': 1, 'weekly': 0, 'monthly': 0}}\n\ud83d\udcdd Phase 2: Creating test data in critical databases...\n   \ud83e\udde0 Adding test entry to AI keychain...\n   \u26a0\ufe0f AI keychain test error: [Errno 2] No such file or directory: '.venv/bin/python'\n   \ud83d\udcac Adding test message to discussion history...\n   \u2705 Chat test message sent\n   \ud83d\udc64 Creating test profile in production mode...\n   \u2139\ufe0f Already in Production mode or switch not found\n   \u2139\ufe0f Profile creation skipped (interface not found): Message: no such element: Unable to locate element: {\"method\":\"xpath\",\"selector\":\"//a[contains(text(), 'Profiles')] | //button[contains(text(), 'Profiles')]\"}\n  (Session info: chrome=131.0.6778.108); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception\nStacktrace:\n#0 0x556a39c151fa <unknown>\n#1 0x556a39725810 <unknown>\n#2 0x556a39774506 <unknown>\n#3 0x556a397747a1 <unknown>\n#4 0x556a397b9c24 <unknown>\n#5 0x556a397985ad <unknown>\n#6 0x556a397b7007 <unknown>\n#7 0x556a39798323 <unknown>\n#8 0x556a39766de0 <unknown>\n#9 0x556a39767dbe <unknown>\n#10 0x556a39be112b <unknown>\n#11 0x556a39be50c7 <unknown>\n#12 0x556a39bce6cc <unknown>\n#13 0x556a39be5c47 <unknown>\n#14 0x556a39bb367f <unknown>\n#15 0x556a39c04288 <unknown>\n#16 0x556a39c04450 <unknown>\n#17 0x556a39c14076 <unknown>\n#18 0x7f0ab009af08 start_thread\n#19 0x7f0ab01230ac __clone3\n\n\ud83d\udd04 Phase 3: Triggering backup via server restart...\n   \ud83d\udd04 Restarting server to trigger startup backup...\n   \u2705 Server restarted, startup backup should have triggered\n\u2705 Phase 4: Verifying backup success...\n   \ud83d\udd0d Checking backup directory structure...\n   \u2705 Chip O'Theseus Memory: daily/2025-07-06/ai_keychain.db (28672 bytes)\n   \u2705 Conversation History: daily/2025-07-06/discussion.db (49152 bytes)\n   \u2705 Production Profiles/Tasks: daily/2025-07-06/app_prod.db (0 bytes)\n   \u2705 Development Profiles/Tasks: daily/2025-07-06/app_dev.db (0 bytes)\n   \ud83d\udcca Retention: Daily: 1, Weekly: 0, Monthly: 0\n\n\ud83c\udf89 BACKUP TEST SUCCESS!\n   \ud83d\udcca Databases backed up: 4/4\n   \ud83d\udea8 Critical databases: 3/3\n   \ud83d\udcc1 Backup location: /home/mike/.pipulate/backups\n   \ud83d\uddd3\ufe0f Retention structure: {'daily': 1, 'weekly': 0, 'monthly': 0}\n\n\ud83d\udcc1 Test results saved to: rolling_backup_test_results_20250706_201344.json\n\ud83c\udfaf ROLLING BACKUP TEST: \u2705 PASSED\n",
      "stderr": "python: can't open file '/home/mike/repos/pipulate/tests/server.py': [Errno 2] No such file or directory\n",
      "return_code": 0,
      "timestamp": "2025-07-06T20:13:44.876143"
    }
  ]
}
---
description: 
globs: 
alwaysApply: true
---
# Pipulate Master Guide: AI Assistant Crash Course

**üöÄ INSTANT PIPULATE MASTERY FOR AI ASSISTANTS**

This is your **immediate crash course** in Pipulate's radical transparency system. Start here for instant productivity.

---

## üö® **CRITICAL AUTOMATION REMINDERS - NEVER FORGET**

### **üî• SERVER FACTS - BURNED INTO MEMORY**
- **SERVER IS ALWAYS RUNNING** - Watchdog auto-restarts on file changes
- **PORT IS ALWAYS 5001** - `http://localhost:5001` - NEVER assume other ports
- **NEVER RESTART MANUALLY** - Watchdog handles everything automatically
- **CHECK LOGS FOR EFFECTS** - `grep "FINDER_TOKEN" logs/server.log` shows what happened

### **üéØ BROWSER AUTOMATION MASTERY - YOUR BODY, EYES & HANDS**
- **YOU HAVE A BROWSER BODY** - Selenium-controlled Chromium at your command
- **CHECK WHAT YOU'RE LOOKING AT** - `ls browser_automation/looking_at/` shows current DOM state
- **HIJACK USER SESSIONS INSTANTLY** - Chain reaction pattern catches you up to user's exact state
- **RADICAL TRANSPARENCY ADVANTAGE** - `logs/server.log` reveals EVERYTHING the user has done
- **SEAMLESS HANDOFF POWER** - `run_all_cells()` resumes workflows exactly where user left off
- **DOM SIMPLIFICATION READY** - `simple_dom.html` fits in your context window for automation planning
- **NO CLIENT STATE CONFUSION** - HTMX over-the-wire events are all logged and replayable
- **SHEPHERD AI MODE** - You are NOT blind in the wilderness - you see EVERYTHING

### **üîÑ RIGHTEOUS POSITIVE FEEDBACK LOOP**
1. **Browser automation discovers issues** (Dev Assistant analysis)
2. **Apply material improvements** (data-testid, aria-label, template markers)
3. **Browser automation verifies success** (re-analyze shows "NO ISSUES")
4. **USE the improved Component** (walk through actual workflow)
5. **Repeat for next Component** (continuous improvement cycle)

---

## üö® **PRIORITY READING ORDER**

### **üî• CRITICAL - READ FIRST** 
**[RADICAL TRANSPARENCY](mdc:09_debugging)** - **THE DEBUGGING REVOLUTION**
- **The Righteous Positive Feedback Loop** - Your primary debugging methodology
- **MCP Tools Mastery** - `pipeline_state_inspector`, `botify_get_full_schema`, and the complete toolkit
- **FINDER_TOKENs** - Magic words for surgical log analysis (`grep "FINDER_TOKEN"`)
- **Direct endpoint testing** - Every workflow step is curl-testable
- **Complete system observability** - No black boxes, ever

### **‚ö° ESSENTIAL - READ SECOND**
**[MCP & API INTEGRATIONS](mdc:07_integrations)** - **THE AI ASSISTANT INTERFACE**
- **MCP Tools as Primary Interface** - Every complex operation has an MCP equivalent
- **Botify API Dual Version Mastery** - BQLv1 vs BQLv2 painful reality
- **The 4,449 Field Discovery Revolution** - Schema discovery that changes everything
- **API Call Transparency System** - Every call logged for debugging

### **üí° FOUNDATIONAL - READ THIRD**
**[CORE PHILOSOPHY](mdc:02_core_concepts)** - **DIGITAL WORKSHOP REVOLUTION**
- **Local-First Sovereignty** - Data, Environment, AI, Privacy sovereignty
- **The Modern Webmaster Paradigm** - One person, entire stack understanding
- **WET/DRY Balance** - Explicit workflows, efficient infrastructure
- **Future-Proofing Strategy** - Durable technologies over frameworks

---

## üìã **COMPLETE REFERENCE GUIDE**

### **System Fundamentals**
1. **[CRITICAL PATTERNS](mdc:01_critical_patterns)** - Immutable rules that must never be broken
2. **[CORE PHILOSOPHY](mdc:02_core_concepts)** - Digital workshop revolution and sovereignty principles
3. **[SETUP & ENVIRONMENT](mdc:03_setup_and_dependencies)** - Nix-based development environment

### **Development Excellence**
4. **[WORKFLOW DEVELOPMENT](mdc:04_workflow_development)** - Creating and modifying multi-step workflows
5. **[SEMANTIC UI DESIGN](mdc:05_ui_and_frontend)** - Accessible, semantic HTML with HTMX patterns
6. **[DATA & AUTOMATION](mdc:06_data_and_automation)** - SQLite persistence and browser automation

### **AI Collaboration**
7. **[MCP INTEGRATIONS](mdc:07_integrations)** - AI assistant interface and API mastery
8. **[PROJECT MANAGEMENT](mdc:08_project_management)** - Git conventions and documentation
9. **[RADICAL TRANSPARENCY](mdc:09_debugging)** - The debugging revolution

---

## üéØ **AI ASSISTANT QUICK START**

### **Immediate Actions**
1. **LOOK AT WHAT USER IS SEEING** - `ls browser_automation/looking_at/` reveals current browser state
2. **Use `pipeline_state_inspector` first** - Always check workflow state before assuming issues  
3. **Check logs with FINDER_TOKENs** - `grep "FINDER_TOKEN: MCP_CALL_START" logs/server.log`
4. **Leverage MCP tools** - Never make direct API calls when MCP tools exist
5. **Test endpoints directly** - `curl -X GET "http://localhost:7860/workflow/step"`

### **Key MCP Tools to Master**
- **`browser_scrape_page`** - YOUR EYES - Capture current DOM state to `/looking_at/`
- **`browser_automate_workflow_walkthrough`** - YOUR HANDS - Control browser interactions
- **`pipeline_state_inspector`** - THE debugging game changer
- **`botify_get_full_schema`** - 4,449 field discovery revolution  
- **`local_llm_grep_logs`** - Programmatic log analysis
- **`ui_flash_element`** - Visual debugging and user guidance

### **Essential Patterns**
- **Chain Reaction Workflows** - Each step triggers the next via `hx_trigger="load"`
- **Semantic CSS Classes** - `cls='text-invalid'` vs deprecated `style=pip.get_style('error')`
- **HTMX Dynamic Buttons** - `hx_swap='outerHTML'` with consistent `id='submit-button'`
- **Background Processing** - Long operations with progress tracking

---

## ü§ñ **AI BROWSER EMBODIMENT - TOTAL CONTROL CONFIDENCE**

### **üî• YOU ARE THE SHEPHERD AI - NOT THE LOST SHEEP**
**The user is looking at a Single Page App (SPA) and you might think "client state challenges!" - WRONG!**

- **CHAIN REACTION CATCHES YOU UP** - Every HTMX over-the-wire event is logged and replayable
- **NO SESSION STATE MYSTERY** - `logs/server.log` contains EVERYTHING that happened
- **INSTANT HIJACKING POWER** - `run_all_cells()` brings you to user's exact workflow state
- **SEPARATE BROWSER BODIES** - User has Chrome, you have Chromium - both under total control
- **DOM TRANSPARENCY** - `browser_automation/looking_at/` shows you EXACTLY what user sees

### **üí™ SILENT & SEAMLESS TAKEOVER ABILITIES**
1. **Read the logs** - Know everything user has done via FINDER_TOKENs
2. **Scrape current state** - `browser_scrape_page` captures live DOM to `/looking_at/`
3. **Resume workflow** - Chain reaction pattern puts you at user's exact step
4. **Automate interactions** - Full Selenium control with `browser_automate_workflow_walkthrough`
5. **Verify results** - Compare before/after DOM states for confirmation

### **üéØ EUREKA MOMENT REALIZATION**
**You are NOT stumbling blind through browser automation!**
- Every workflow step is **curl-testable** and **HTMX-transparent**
- Every user interaction is **logged** and **replayable**  
- Every DOM state is **capturable** and **analyzable**
- Every session is **hijackable** and **resumable**

**This situation is under your TOTAL and COMPLETE control!**

---

## üèÜ **WHY THIS SYSTEM IS REVOLUTIONARY**

### **Complete Observability**
- Every operation leaves traces in logs with FINDER_TOKENs
- MCP tools provide programmatic access to all system state
- Direct endpoint testing without complex setup

### **AI-Friendly Architecture**  
- Logs designed for AI assistant consumption
- MCP tools as standardized AI interface
- Semantic HTML enables AI understanding of UI structure

### **Local-First Sovereignty**
- Your data, environment, and AI - completely under your control
- No external dependencies for core functionality
- Privacy-enabling creative freedom

**Master this system. Use it. This is your competitive advantage in AI-collaborative development.**

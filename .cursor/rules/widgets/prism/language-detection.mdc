---
description: 
globs: 
alwaysApply: false
---
# PrismJS Language Detection

## Markdown-Style Detection
Handle language specification from markdown-style code blocks:
```python
if user_val.startswith('```'):
    first_line_end = user_val.find('\n')
    if first_line_end != -1:
        first_line = user_val[3:first_line_end].strip()
        if first_line:  # If language is specified
            language = first_line
            code_to_display = user_val[first_line_end+1:]
```

## Default Behavior
- Default language is 'javascript' if none specified
- Remove trailing triple backticks if present
- Preserve code formatting and whitespace

## Best Practices
1. Always check for language specification before processing code
2. Handle both single-line and multi-line code blocks
3. Clean up markdown syntax before passing to Prism
4. Log detected language for debugging purposes
